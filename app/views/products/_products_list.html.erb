<div class="row justify-content-center">
    <% if @products.present? %>
        <% @products.each do |product| %>
                <div class="card col-md-3 mr-4 mb-4 border rounded shadow">
                    <%= link_to product_path(product.id) do %>
                        <div class=" mt-2 border p-1 text-center rounded"><%= (product.image.attached?) ? image_tag(product.image, size: "180x120", class: 'card-img-top') : "No Image" %></div>
                    <% end %>
                    <div class="card-body text-center">
                        <h5 class="card-title"><%= product.title %></h5>
                        <p class="card-text"><%= product.price %> EGP</p>
                    </div>
                    <% if product.quantity > 0 %>
                        <%= button_to "Add to Cart", add_to_cart_path(product.id),method: :post, class: 'btn btn-warning mb-3 text-dark', data: { confirm: 'Do you want to add ( ' + product.title + ' ) to your cart?'} %>
                    <% else %>
                        <p class="bg-secondary text-center rounded p-1">Not available</p>
                    <% end %>
                </div>
        <% end %>
    <% else %>
        <p style="text-align: center">No Products Found</p>
    <% end %>
</div>